
<!doctype html>
<html>
  <head>
    <title></title>
    <link type='text/css' href='/css/notes.css' rel='stylesheet'/>
    <link rel="stylesheet" href="/css/zenburn.css">
    <script src="/js/highlight-pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </head>
  <body>
    <div id="sidebar">
      <ul>
        <li>
          <a href="/">Home</a>
        </li>
        <li>
          <a href="/notes">Notes</a>
        </li>
        <li>
          <a href="#">Blog</a>
        </li>
      </ul>
    </div>
    <div id="main">
    <h1>tee</h1>

<p>Split output to a command at different stages of processing like: </p>

<pre><code class="bash">ls -l | tee original_list.txt | grep file2 &gt; filtered_list.txt
</code></pre>

<p>This works as follows:</p>

<pre><code class="bash">$ ls
file1  file2
$ ls -l | tee original_list.txt | grep file2 &gt; filtered_list.txt
$ ls
file1  file2  filtered_list.txt  original_list.txt
$ cat filtered_list.txt 
-rw-r--r-- 1 granolocks granolocks 0 Aug 29 09:22 file2
$ cat original_list.txt 
total 0
-rw-r--r-- 1 granolocks granolocks 0 Aug 29 09:22 file1
-rw-r--r-- 1 granolocks granolocks 0 Aug 29 09:22 file2
-rw-r--r-- 1 granolocks granolocks 0 Aug 29 09:23 filtered_list.txt
</code></pre>

<h2>From Wikipedia:</h2>

<blockquote>
<p>tee is normally used to split the output of a program so that it can be
displayed and saved in a file. The command can be used to capture intermediate
output before the data is altered by another command or program. The tee
command reads standard input, then writes its content to standard output. It
simultaneously copies the result into the specified file(s) or variables. The
syntax differs depending on the commands implementation:</p>
</blockquote>

<pre><code class="bash">tee [ -a ] [ -i ] [ File ... ]
</code></pre>

<p>Arguments:
File One or more files that will receive the &quot;tee-d&quot; output.</p>

<p>Flags:</p>

<ul>
<li><code>-a</code> Appends the output to the end of File instead of writing over it.</li>
<li><code>-i</code> Ignores interrupts.</li>
</ul>

<p>The command returns the following exit values (exit status):
* 0 The standard input was successfully copied to all output files.
* &gt;0 An error occurred.</p>

<p>Using process substitution lets more than one process read the standard output
of the originating process. Read this example from GNU Coreutils, tee
invocation.</p>

<p>Note: If a write to any successfully opened File operand is not successful,
writes to other successfully opened File operands and standard output will
continue, but the exit value will be &gt;0.</p>

    </div>

    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-12795044-1']);
      _gaq.push(['_setDomainName', 'gabekoss.com']);
      _gaq.push(['_trackPageview']);

      (function() {
       var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
       ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
       var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
       })();

     </script>
   </body>
 </html>

